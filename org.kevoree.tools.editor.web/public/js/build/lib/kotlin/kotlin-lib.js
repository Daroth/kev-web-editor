/**
         * Copyright 2010 Tim Down.
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *      http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */

define(["kotlin/kotlin-lib-ecma3"],function(e){return String.prototype.startsWith=function(e){return this.indexOf(e)===0},String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1},String.prototype.contains=function(e){return this.indexOf(e)!==-1},function(){function t(e){return function(){var t;throw e!==undefined?t="Function "+e+" is abstract":t="Function is abstract",new TypeError(t)}}e.equals=function(t,n){return t==null?n==null:Array.isArray(t)?e.arrayEquals(t,n):typeof t=="object"&&t.equals!==undefined?t.equals(n):t===n},e.toString=function(t){return t==null?"null":Array.isArray(t)?e.arrayToString(t):t.toString()},e.arrayToString=function(e){return"["+e.join(", ")+"]"},e.intUpto=function(t,n){return e.$new(e.NumberRange)(t,n)},e.intDownto=function(t,n){return e.$new(e.Progression)(t,n,-1)},e.modules={},e.RuntimeException=e.$createClass(),e.NullPointerException=e.$createClass(),e.NoSuchElementException=e.$createClass(),e.IllegalArgumentException=e.$createClass(),e.IllegalStateException=e.$createClass(),e.UnsupportedOperationException=e.$createClass(),e.IOException=e.$createClass(),e.throwNPE=function(){throw e.$new(e.NullPointerException)()},e.Iterator=e.$createClass({initialize:function(){},next:t("Iterator#next"),hasNext:t("Iterator#hasNext")});var n=e.$createClass(e.Iterator,{initialize:function(e){this.array=e,this.size=e.length,this.index=0},next:function(){return this.array[this.index++]},hasNext:function(){return this.index<this.size}}),r=e.$createClass(n,{initialize:function(e){this.list=e,this.size=e.size(),this.index=0},next:function(){return this.list.get(this.index++)}});e.Collection=e.$createClass(),e.Enum=e.$createClass(null,{initialize:function(){this.name$=undefined,this.ordinal$=undefined},name:function(){return this.name$},ordinal:function(){return this.ordinal$},toString:function(){return this.name()}}),function(){function t(e){return this[e]}function n(){return this.values$}e.createEnumEntries=function(e){var r=0,i=[];for(var s in e)if(e.hasOwnProperty(s)){var o=e[s];i[r]=o,o.ordinal$=r,o.name$=s,r++}return e.values$=i,e.valueOf=t,e.values=n,e}}(),e.AbstractCollection=e.$createClass(e.Collection,{size:function(){return this.$size},addAll:function(e){var t=e.iterator(),n=this.size();while(n-->0)this.add(t.next())},isEmpty:function(){return this.size()===0},iterator:function(){return e.$new(n)(this.toArray())},equals:function(t){if(this.size()!==t.size())return!1;var n=this.iterator(),r=t.iterator(),i=this.size();while(i-->0)if(!e.equals(n.next(),r.next()))return!1;return!0},toString:function(){var e="[",t=this.iterator(),n=!0,r=this.$size;while(r-->0)n?n=!1:e+=", ",e+=t.next();return e+="]",e},toJSON:function(){return this.toArray()}}),e.AbstractList=e.$createClass(e.AbstractCollection,{iterator:function(){return e.$new(r)(this)},remove:function(e){var t=this.indexOf(e);t!==-1&&this.removeAt(t)},contains:function(e){return this.indexOf(e)!==-1}}),e.ArrayList=e.$createClass(e.AbstractList,{initialize:function(){this.array=[],this.$size=0},get:function(e){return this.checkRange(e),this.array[e]},set:function(e,t){this.checkRange(e),this.array[e]=t},size:function(){return this.$size},iterator:function(){return e.arrayIterator(this.array)},add:function(e){this.array[this.$size++]=e},addAt:function(e,t){this.array.splice(e,0,t),this.$size++},addAll:function(e){var t=e.iterator();for(var n=this.$size,r=e.size();r-->0;)this.array[n++]=t.next();this.$size+=e.size()},removeAt:function(e){return this.checkRange(e),this.$size--,this.array.splice(e,1)[0]},clear:function(){this.array.length=0,this.$size=0},indexOf:function(t){for(var n=0,r=this.$size;n<r;++n)if(e.equals(this.array[n],t))return n;return-1},toArray:function(){return this.array.slice(0,this.$size)},toString:function(){return"["+this.array.join(", ")+"]"},toJSON:function(){return this.array},checkRange:function(e){if(e<0||e>=this.$size)throw new RangeError}}),e.Runnable=e.$createClass({initialize:function(){},run:t("Runnable#run")}),e.Comparable=e.$createClass({initialize:function(){},compareTo:t("Comparable#compareTo")}),e.Appendable=e.$createClass({initialize:function(){},append:t("Appendable#append")}),e.Closeable=e.$createClass({initialize:function(){},close:t("Closeable#close")}),e.safeParseInt=function(e){var t=parseInt(e,10);return isNaN(t)?null:t},e.safeParseDouble=function(e){var t=parseFloat(e);return isNaN(t)?null:t},e.arrayEquals=function(t,n){if(t===n)return!0;if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(!e.equals(t[r],n[r]))return!1;return!0},e.System=function(){var e="",t=function(t){t!==undefined&&(t===null||typeof t!="object"?e+=t:e+=t.toString())},n=function(t){this.print(t),e+="\n"};return{out:function(){return{print:t,println:n}},output:function(){return e},flush:function(){e=""}}}(),e.println=function(t){e.System.out().println(t)},e.print=function(t){e.System.out().print(t)},e.RangeIterator=e.$createClass(e.Iterator,{initialize:function(e,t,n){this.$start=e,this.$end=t,this.$increment=n,this.$i=e},get_start:function(){return this.$start},get_end:function(){return this.$end},get_i:function(){return this.$i},set_i:function(e){this.$i=e},next:function(){var e=this.$i;return this.set_i(this.$i+this.$increment),e},hasNext:function(){return this.get_count()>0}}),e.NumberRange=e.$createClass({initialize:function(e,t){this.$start=e,this.$end=t},get_start:function(){return this.$start},get_end:function(){return this.$end},get_increment:function(){return 1},contains:function(e){return this.$start<=e&&e<=this.$end},iterator:function(){return e.$new(e.RangeIterator)(this.get_start(),this.get_end())}}),e.Progression=e.$createClass({initialize:function(e,t,n){this.$start=e,this.$end=t,this.$increment=n},get_start:function(){return this.$start},get_end:function(){return this.$end},get_increment:function(){return this.$increment},iterator:function(){return e.$new(e.RangeIterator)(this.get_start(),this.get_end(),this.get_increment())}}),e.Comparator=e.$createClass({initialize:function(){},compare:t("Comparator#compare")});var i=e.$createClass(e.Comparator,{initialize:function(e){this.compare=e}});e.comparator=function(t){return e.$new(i)(t)},e.collectionsMax=function(e,t){if(e.isEmpty())throw new Error;var n=e.iterator(),r=n.next();while(n.hasNext()){var i=n.next();t.compare(r,i)<0&&(r=i)}return r},e.collectionsSort=function(e,t){var n=undefined;t!==undefined&&(n=t.compare.bind(t)),e instanceof Array&&e.sort(n);var r=[],i=e.iterator();while(i.hasNext())r.push(i.next());r.sort(n);for(var s=0,o=r.length;s<o;s++)e.set(s,r[s])},e.StringBuilder=e.$createClass({initialize:function(){this.string=""},append:function(e){this.string=this.string+e.toString()},toString:function(){return this.string}}),e.splitString=function(e,t,n){return e.split(new RegExp(t),n)},e.nullArray=function(e){var t=[],n=e;while(n>0)t[--n]=null;return t},e.numberArrayOfSize=function(t){return e.arrayFromFun(t,function(){return 0})},e.charArrayOfSize=function(t){return e.arrayFromFun(t,function(){return"\0"})},e.booleanArrayOfSize=function(t){return e.arrayFromFun(t,function(){return!1})},e.arrayFromFun=function(e,t){var n=new Array(e);for(var r=0;r<e;r++)n[r]=t(r);return n},e.arrayIndices=function(t){return e.$new(e.NumberRange)(0,t.length-1)},e.arrayIterator=function(t){return e.$new(n)(t)},e.jsonFromTuples=function(e){var t=e.length,n={};while(t>0)--t,n[e[t][0]]=e[t][1];return n},e.jsonAddProperties=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}(),e.assignOwner=function(e,t){return e.o=t,e},e});